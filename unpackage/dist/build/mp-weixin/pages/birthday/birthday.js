(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/birthday/birthday"],{"0e0b":function(e,t,o){"use strict";o.r(t);var n=o("40bc"),i=o("eed5");for(var a in i)"default"!==a&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("fbda");var s,r=o("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=c.exports},"17fd":function(e,t,o){"use strict";(function(e){o("e486");n(o("66fd"));var t=n(o("0e0b"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},2107:function(e,t,o){},"40bc":function(e,t,o){"use strict";var n,i=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}))},cd22:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){Promise.all([o.e("common/vendor"),o.e("components/quick-calendar/calendar")]).then(function(){return resolve(o("b87d"))}.bind(null,o)).catch(o.oe)},i=function(){Promise.all([o.e("common/vendor"),o.e("components/pick-regions/pick-regions")]).then(function(){return resolve(o("7415"))}.bind(null,o)).catch(o.oe)},a={components:{zanCalendar:n,pickRegions:i},data:function(){return{date:"2020-05-27",time:"0-26",isHourShow:!1,isMinShow:!1,lunarType:"number",dateDialog:!1,calendar:"",type:0,endDate:"",wishList:[],radio:0,step:1,form:{year:"",month:"",day:"",hour:""},sex:["男","女"],sexIndex:0,region:[],region1:[],defaultRegion:["北京","市辖区","东城区"],defaultRegionCode:"110101",nameForom:{surname:"",name:""},birthday:"",hasPhone:!1}},computed:{regionName:function(){return this.region.map((function(e){return e.name})).join(" ")},regionName1:function(){return this.region1.map((function(e){return e.name})).join(" ")}},onLoad:function(t){var o=this;e.getStorage({key:"wishList",success:function(e){console.log(e.data),o.wishList=e.data||[]}}),this.hasPhone=!!e.getStorageSync("phone")},methods:{getPhoneNumber:function(t){var o=this;return console.log(t),"getPhoneNumber:fail"==t.detail.errMsg?(console.log(ErrMsg),e.showToast({title:"未获取到手机号码",icon:"none"}),!1):void 0!=t.detail.iv&&t.detail.iv?void wx.login({success:function(n){n.code&&(console.log(n),o.$api.post("/api/user/get_user_phone",{code:n.code,iv:t.detail.iv,encryptedData:t.detail.encryptedData}).then((function(t){console.log(t),o.hasPhone=!0,e.setStorage({key:"phone",data:"1",success:function(){o.goMatchDojo()},fail:function(e){console.log(e)}})})))}}):(e.showToast({title:"授权失败",icon:"none"}),!1)},goMatchDojo:function(){var t=this;""!=this.nameForom.name&&""!=this.nameForom.surname?this.$api.post("/api/prayer",{heart_want:JSON.stringify(this.wishList),birthdate:0==this.type?"阳历":"阴历",birthday:this.birthday,sex:0==this.sexIndex?1:0,birthplace:this.region[2].code,nowplace:this.region1[2].code,surname:this.nameForom.surname,name:this.nameForom.name,user_id:e.getStorageSync("user_id")}).then((function(o){console.log(o),e.setStorageSync("paryData",o.prayer),e.setStorageSync("name",t.nameForom.surname+t.nameForom.name),e.setStorageSync("first",o.first),e.redirectTo({url:"/pages/matchDojo/matchDojo?detail="+JSON.stringify(o.dojo)})})):e.showToast({title:"姓氏名讳不能为空",icon:"none"})},selSex:function(e){this.sexIndex=e,console.log(e)},selRadio:function(e){console.log(e),this.radio!==e&&(this.radio=e)},submit:function(){console.log(this.form),""==this.birthday?e.showToast({title:"请选择生辰",icon:"none"}):(e.setStorageSync("date",this.birthday),e.setStorageSync("dateType",this.type),e.navigateTo({url:"/pages/sex/sex"}))},getType:function(e){this.type="solar"===e?0:1,console.log(this.type)},showDateDialog:function(e,t){switch(e){case 1:this.isHourShow=!1,this.isMinShow=!1;break;case 2:this.isHourShow=!0,this.isMinShow=!1;break;case 3:this.isHourShow=!0,this.isMinShow=!0;break}this.dateDialog=!0,this.lunarType=t},closeDialog:function(){this.dateDialog=!1},confirmDialog:function(e){console.log(e);var t="";0==e.type?(t="阳历:"+e.t1,this.birthday=e.t1):(t="阴历:"+e.t2,this.birthday=e.t2),this.endDate=t,console.log("选择的日期是："+e.date),console.log("选择的时间是："+e.time),this.closeDialog()},handleGetRegion:function(e){this.region=e},handleGetRegion1:function(e){this.region1=e}}};t.default=a}).call(this,o("543d")["default"])},eed5:function(e,t,o){"use strict";o.r(t);var n=o("cd22"),i=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},fbda:function(e,t,o){"use strict";var n=o("2107"),i=o.n(n);i.a}},[["17fd","common/runtime","common/vendor"]]]);